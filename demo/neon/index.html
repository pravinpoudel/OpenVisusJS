<!DOCTYPE html>
<script>
/*
 * Copyright (c) 2017 University of Utah 
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice,
 *    this list of conditions and the following disclaimer.
 * 2. Redistributions in binary form must reproduce the above copyright
 *    notice, this list of conditions and the following disclaimer in the
 *    documentation and/or other materials provided with the distribution.
 * 3. Neither the name of the copyright holder nor the names of its
 *    contributors may be used to endorse or promote products derived from
 *    this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
 * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
 * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
 * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
 * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
 * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
 * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
 * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 * POSSIBILITY OF SUCH DAMAGE.
 */
</script>

<html lang="en">

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  
  <title>ViSUS WebViewer</title>

  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  <!--<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">-->
  <!--<link rel="stylesheet" href="https://bootswatch.com/3/paper/bootstrap.min.css">-->
  <!--<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"> -->

  <link rel="stylesheet" href="bootstrap.min.flatly.css">

  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css" integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous">
    
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.13.2/css/bootstrap-select.min.css" />

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="https://code.jquery.com/ui/1.11.4/jquery-ui.js" integrity="sha256-DI6NdAhhFRnO2k51mumYeDShet3I8AKCQf/tf7ARNhI=" crossorigin="anonymous"></script> 

  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>

  <!-- Latest compiled JavaScript -->
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.13.2/js/bootstrap-select.min.js"></script>

<style type="text/css">
body{
  background: #f3f5f5;
  fontFamily: '"Source Sans Pro",Helvetica,Arial,sans-serif';
  fontWeightLight: 200;
  fontWeightRegular: 400;
  fontWeightMedium: 600;
  fontWeightBold: 700;
}
h1: {
  fontWeight: 200,
  fontSize: '4.125rem',
}
h2: {
  fontWeight: 200,
  fontSize: '3.5rem',
}
h3: {
  fontWeight: 400,
  fontSize: '2.75rem',
}
h4: {
  fontWeight: 400,
  fontSize: '2.125rem',
}
h5: {
  fontWeight: 600,
  fontSize: '1.5rem',
}
h6: {
  fontWeight: 700,
  fontSize: '1.15rem',
}


.slidecontainer {
  width: 100%; /* Width of the outside container */
}

.slider {
  -webkit-appearance: none;
  width: 100%;
  height: 15px;
  border-radius: 5px;   
  background: #d3d3d3;
  outline: none;
  opacity: 0.7;
  -webkit-transition: .2s;
  transition: opacity .2s;
  display: table-cell;
  vertical-align: middle;
}

.slider::-webkit-slider-thumb {
  -webkit-appearance: none;
  appearance: none;
  width: 25px;
  height: 25px;
  border-radius: 50%; 
  background: #4CAF50;
  cursor: pointer;
  vertical-align: middle;
}

.slider::-moz-range-thumb {
  width: 25px;
  height: 25px;
  border-radius: 50%;
  background: #4CAF50;
  cursor: pointer;
  vertical-align: middle;
}

/*
.nav>li{
  padding-right: 10px;
  padding-left: 10px;
}*/

/* Style page content */
.main {
  margin-left: 160px; /* Same as the width of the sidebar */
  padding: 0px 10px;
}

/* On smaller screens, where height is less than 450px, change the style of the sidebar (less padding and a smaller font size) */
@media screen and (max-height: 450px) {
  .sidenav {padding-top: 15px;}
  .sidenav a {font-size: 18px;}
}

#body-row {
    margin-left:0;
    margin-right:0;
}

#sidebar-container {
    min-height: 100vh;   
    background-color: #f3f5f5;
    padding: 0;
    float: right;
}

/* Sidebar sizes when expanded and expanded */
.sidebar-expanded {
    width: 250px;
}
.sidebar-collapsed {
    width: 60px;
}

/* Menu item*/
#sidebar-container .list-group a {
    height: 50px;
    color: black;
}

/* Submenu item*/
#sidebar-container .list-group .sidebar-submenu a {
    height: 45px;
    padding-left: 30px;
}
.sidebar-submenu {
    font-size: 0.9rem;
}

/* Separators */
.sidebar-separator-title {
    background-color: #f3f5f5;
    height: 35px;
}
.sidebar-separator {
    background-color: #f3f5f5;
    height: 25px;
}
.logo-separator {
    background-color: #f3f5f5;    
    height: 60px;
}

/* Closed submenu icon */
#sidebar-container .list-group .list-group-item[aria-expanded="false"] .submenu-icon::after {
  content: " \f0d7";
  font-family: FontAwesome;
  display: inline;
  text-align: right;
  padding-left: 10px;
}
/* Opened submenu icon */
#sidebar-container .list-group .list-group-item[aria-expanded="true"] .submenu-icon::after {
  content: " \f0da";
  font-family: FontAwesome;
  display: inline;
  text-align: right;
  padding-left: 10px;
}

a.bg-light.list-group-item.list-group-item-action.flex-column.align-items-start {
    padding-left: 2.1em;
}

small {
    color: black;
}

</style>

</head>
  
  <nav class="navbar navbar-expand-lg navbar-light bg-light fixed-top">
    <div class="container-fluid">
      <div class="navbar-header">
        <a class="navbar-brand" href="#"><image src="logo--blue-neon-data.png" height="30px"/></a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarColor03" aria-controls="navbarColor03" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
      </div>
      <div class="collapse navbar-collapse" id="main-navbar">
        <ul class="nav navbar-nav">
          <li>
            <div class="dropdown">
              <button class="btn btn-primary dropdown-toggle navbar-btn" type="button" data-toggle="dropdown">
                Select Dataset&nbsp;<span class="caret"></span></button>
              <ul class="dropdown-menu">
                <li><a href='javascript:loadScenePreset("NEON_MOAB")'>MOAB</a></li>
                <li><a href='javascript:loadScenePreset("NEON_REDB")'>REDB</a></li>
                <li><a href='javascript:loadScenePreset("NEON_VEGIDX")'>REDB_VEGIDX</a></li>
                <li><a href='javascript:loadScenePreset("NEON_ABBA")'>ABBY</a></li>
              </ul>
           </div>
          </li>
            
        </ul>

      </div>
    </div>
  </nav>

  <div class="embed-responsive embed-responsive-16by9">
    <iframe id="visus-frame" class="embed-responsive-item" src="visus-frame.html"></iframe>
  </div>

  <script>

    function loadScenePreset(preset_name){
      config_str=''

      if(preset_name=="NEON_MOAB")
        config_str='server=https%3A%2F%2Fmolniya.sci.utah.edu%2Fmod_visus%3F&dataset=neon_moab_2017_2018&field=data&time=2017&palette=rich&palette_min=NaN&palette_max=NaN'

      else if(preset_name=="NEON_REDB")
        config_str='server=https%3A%2F%2Fmolniya.sci.utah.edu%2Fmod_visus%3F&dataset=neon_redb&field=DATA&time=0&palette=rich&palette_min=NaN&palette_max=NaN'

      else if(preset_name=="NEON_VEGIDX")
        config_str='?server=https%3A%2F%2Fmolniya.sci.utah.edu%2Fmod_visus%3F&dataset=neon_redb_vegidx&field=NDVI&time=0&palette=rich&palette_min=0&palette_max=1'
        
      else if(preset_name=="NEON_ABBA")
        config_str='server=https%3A%2F%2Fmolniya.sci.utah.edu%2Fmod_visus%3F&dataset=neon_abba&field=DATA&time=0&palette=rich&palette_min=NaN&palette_max=NaN'
      
      HOST_URL="index.html"
      dataset_url="?"+config_str+"&demoid="+preset_name
      gotourl = HOST_URL+dataset_url
      //window.location=gotourl

      $("#visus-frame").attr('src', "visus-frame.html"+dataset_url);
      console.log("setting src ", frame_url)

    }

    // demo_id = getParameterByName('demoid')
    // dataset_param = getParameterByName('dataset')

    // if(demo_id==null && dataset_param==null){
      loadScenePreset("NEON_MOAB")
    //}

  </script>

</body>
</html>
